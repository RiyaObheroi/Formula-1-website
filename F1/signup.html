<!DOCTYPE html>
<html>
<head>
	<meta charset = "utf-8"/>
	<title>Sign up</title>
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="styless.css"> 
    <link rel="icon" href="Images/formula1.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" />

</head>
<body>
 <div class="container">
   	 <div class="nav-wrapper">
   	 	<div class="left-side">  
          <div class="logo">
            <img src="Images/formula1.jpg">
          </div>
          
          <div class="nav-link-wrapper">
            <a href="index.html">Home</a>
          </div>
             
          <div class="nav-link-wrapper">
            <a href="trying.html">2021 calander</a>
          </div>
      </div>
        
      <div class="right-side">
        <div class="nav-link-wrapper"> 
          <a href="signup.html">sign up</a>
        </div>
      </div>
    </div> 
  </div>

  <div class="bodyy">
   <div class= "container_one">
    <div class="header">
      <h2> REGISTRATION FORM </h2>
    </div>
     
    <form class="form" id="form">
      <div class="form-control">
        <label>USERNAME</label>
        <input type="text" name="" id="username" placeholder="Enter your full name" autocomplete="off">
        <i class="fas fa-check-circle"></i>
        <i class="fas fa-exclamation-circle"></i>
        <small>Error Message</small>
      </div>

      <div class="form-control">
        <label>EMAIL ADDRESS</label>
        <input type="text" Email="" id="email" placeholder="Enter your email id" autocomplete="off">
        <i class="fas fa-check-circle"> </i>
        <i class="fas fa-exclamation-circle"></i>
        <small>Error Message</small>
      </div>

      <div class="form-control">
        <label>PHONE NUMBER</label>
        <input type="number" name="" id="phonenumber" placeholder="Enter your phone number" autocomplete="off">
        <i class="fas fa-check-circle"> </i>
        <i class="fas fa-exclamation-circle"></i>
        <small>Error Message</small>
      </div>

      <div class="form-control">
        <label>PASSWORD</label>
        <input type="Password" name="" id="password" placeholder="Enter your password" autocomplete="off">
        <i class="fas fa-check-circle"> </i>
        <i class="fas fa-exclamation-circle"></i>
        <small>Error Message</small>
      </div>

      <div class="form-control">
        <label>RE-ENTER PASSWORD</label>
        <input type="Password" name="" id="cpassword" placeholder="Enter your password again" autocomplete="off">
        <i class="fas fa-check-circle"> </i>
        <i class="fas fa-exclamation-circle"></i>
        <small>Error Message</small>
      </div>

      <input type="submit" value="Submit" class= "btn" name=""> 

      <input type="reset" value="Reset" class= "btn" name=""> 
    </form>
  </div>

</div>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script type="text/javascript">

  const form= document.getElementById('form');
  const username= document.getElementById('username');
  const email= document.getElementById('email');
  const phonenumber= document.getElementById('phonenumber');
  const password= document.getElementById('password');
  const cpassword= document.getElementById('cpassword');
  
  form.addEventListener('submit',(event) => {
  event.preventDefault();
  validate();
})

 form.addEventListener('reset',(event) => {
  reset_button();
 })

 const reset_button = () =>{
  swal("WARNING!", "ARE YOU SURE YOU WANT TO RESET!", "warning");
  
 }

const isEmail=(emailVal) =>{
  var atSymbol = emailVal.indexOf("@");
  if(atSymbol < 1) return false;
  var dot = emailVal.lastIndexOf('.');
  if(dot <= atSymbol + 2) return false;
  if(dot === emailVal.length-1) return false;
  
  return true;
} 

  const validate = () => {
  
  const usernameVal= username.value.trim();
  const emailVal= email.value.trim();
  const phonenumberVal= phonenumber.value.trim();
  const passwordVal= password.value.trim();
  const cpasswordVal= cpassword.value.trim();
 
  //VALIDATING USERNAME
  var x=0;
  if(usernameVal === ""){
    setErrorMsg(username, 'USERNAME CANNOT BE BLANK');
  }
  else if(usernameVal.length <=2){
    setErrorMsg(username, 'USERNAME SHOULD HAVE MIN 3 CHARACTERS');
  } else{
    setSuccessMsg(username);
    x++;
  }

  if(email === ""){
    setErrorMsg(email, 'EMAIL CANNOT BE BLANK');
  }  else if(!isEmail(emailVal)){
    setErrorMsg(email, 'NOT A VALID EMAIL');
  }  else{
    setSuccessMsg(email);
    x++;
  }


  if(phonenumberVal === ""){
    setErrorMsg(phonenumber, 'PHONE NUMBER CANNOT BE BLANK');
  }  else if(phonenumberVal.length !=10){
    setErrorMsg(phonenumber, 'NOT A VALID PHONE NUMBER');
  }  else{
    setSuccessMsg(phonenumber);
    x++;
  }

if(passwordVal === ""){
    setErrorMsg(password, 'PASSWORD CANNOT BE BLANK');
  }  else if(passwordVal.length <=5){
    setErrorMsg(password, 'PASSWORD SHOULD HAVE MINIMUM 6 CHARACTERS');
  }  else{
    setSuccessMsg(password);
    x++;
  }

if(cpasswordVal === ""){
    setErrorMsg(cpassword, 'CPASSWORD CANNOT BE BLANK');
  }  else if(cpasswordVal != passwordVal){
    setErrorMsg(cpassword, 'BOTH PASSWORDS SHOULD BE SAME');
  }  else{
    setSuccessMsg(cpassword);
    x++;
  }
 
 if(x==5){
  
  swal("CONGRATULATIONS!", "YOU HAVE REGISTERED SUCCESSFULLY", "success");
     location.href = "index.html";
 } 
}

function setErrorMsg(input, errormsgs){
  const formControl = input.parentElement;
  const small = formControl.querySelector('small');
  formControl.className = "form-control error";
  small.innerText = errormsgs;
}

function setSuccessMsg(input){
 const formControl = input.parentElement;
 formControl.className = "form-control success";
}
</script>
</body>
</html> 